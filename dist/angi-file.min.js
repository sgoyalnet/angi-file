!function(){function e(){function e(e,a,r,n){function l(e){var i="";if("multiple"in r)for(var a=0;a<e.length;a++){if(i=t(e[a].name).toLowerCase(),!(o.indexOf(i)>-1)){n.$setValidity("validFormat",!1);break}n.$setValidity("validFormat",!0)}else i=t(e.name).toLowerCase(),o.indexOf(i)>-1?n.$setValidity("validFormat",!0):n.$setValidity("validFormat",!1);return e}if(n&&"INPUT"===a[0].tagName&&i.test(r.type)){var o=e.formats.split(",").map(function(e){return e.toLowerCase()});n.$parsers.push(l),a.on("change",function(){var e=this;if("multiple"in r){var t=Array.prototype.map.call(e.files,function(e){return e});n.$setViewValue(t)}else n.$setViewValue(e.files[0])})}}function t(e){return e.substr((~-e.lastIndexOf(".")>>>0)+2)}var i=/^file$/i;return{restrict:"E",require:"?ngModel",link:e,scope:{formats:"@formats"}}}angular.module("net.sgoyal.angi-file",[]).directive("input",e),e.$inject=[]}();